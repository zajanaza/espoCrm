{"version":3,"file":"espo-calendar.js","sources":["original/espo-calendar.js"],"names":["define","_exports","_view","_moment","FullCalendar","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","cache","has","get","key","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","prototype","hasOwnProperty","call","set","_interopRequireWildcard","CalendarView","template","eventAttributes","colors","allDayScopeList","scopeList","header","modeList","fullCalendarModeList","defaultMode","slotDuration","titleFormat","month","week","day","rangeSeparator","fetching","modeViewMap","agendaWeek","agendaDay","basicWeek","basicDay","listWeek","extendedProps","calendar","events","click button[data-action=\"prev\"]","this","actionPrevious","click button[data-action=\"next\"]","actionNext","click button[data-action=\"today\"]","actionToday","click [data-action=\"mode\"]","e","mode","$","currentTarget","data","selectMode","click [data-action=\"refresh\"]","actionRefresh","click [data-action=\"toggleScopeFilter\"]","$target","filterName","$check","find","hasClass","removeClass","addClass","stopPropagation","toggleScopeFilter","isCustomViewAvailable","isCustomView","todayLabel","translate","todayLabelShort","slice","setup","wait","Espo","loader","requirePromise","date","options","setupMode","$container","Utils","clone","getMetadata","getConfig","getHelper","themeManager","getParam","getAcl","getPermissionLevel","userId","forEach","scope","check","push","enabledScopeList","getStoredEnabledScopeList","toString","item","color","createView","selector","viewMode","teamIdList","length","indexOf","viewId","calendarViewDataList","getPreferences","id","viewName","name","isAgendaMode","previousMode","trigger","$el","changeView","toAgenda","fromAgenda","refetchEvents","updateDate","hasView","getModeButtonsView","reRender","getView","index","splice","storeEnabledScopeList","getStorage","title","isToday","getTitle","text","view","todayUnix","unix","startUnix","activeStart","endUnix","activeEnd","timeGridWeek","timeGridDay","dayGridWeek","dayGridDay","dayGridMonth","type","let","end","format","start","dateToMoment","currentStart","currentEnd","subtract","userName","escapeString","convertToFcEvent","o","event","recordId","dateStart","dateEnd","dateStartDate","dateEndDate","status","originalColor","display","isWorkingRange","groupId","userIdList","userNameMap","sort","v1","v2","localeCompare","attr","getDateTime","toMoment","duration","add","toISOString","allDay","handleAllDay","fillColor","handleStatus","tz","getTimeZone","getEventTypeCompletedStatusList","getEventTypeCanceledStatusList","getColorFromScopeName","includes","shadeColor","className","percent","getThemeManager","alpha","substring","f","parseInt","t","p","R","G","B","Math","round","notInitial","allDayCopy","hours","minutes","toDate","convertToFcEvents","list","now","convertDateTime","internalDateTimeFormat","timeZone","m","utc","getCalculatedHeight","height","calculateContentContainerHeight","adjustSize","isRemoved","setOption","updateSize","afterRender","containerSelector","$calendar","timeFormat","slotLabelFormat","headerToolbar","eventTimeFormat","initialView","defaultRangeSeparator","weekNumbers","weekNumberCalculation","editable","selectable","selectMirror","firstDay","weekStart","slotEventOverlap","snapDuration","undefined","longPressDelay","eventColor","nowIndicator","allDayText","weekText","views","dayHeaderFormat","windowResize","select","info","startStr","endStr","createEvent","unselect","eventClick","Ui","notify","removeDisabled","render","listenToOnce","model","removeModel","listenTo","bypassClose","close","updateModel","datesSet","fromIso","getDate","callback","dateTimeFormat","from","to","fromStr","toStr","fetchEvents","eventDrop","delta","attributes","dateString","internalDateFormat","props","obtainPropsFromEvent","getModelFactory","create","save","patch","then","applyPropsToEvent","catch","revert","eventResize","setExtendedProp","eventContent","arg","$content","append","timeText","avatarHtml","getAvatarHtml","$div","css","overflow","html","innerHTML","aspectRatio","contentHeight","initialDate","setTimeout","Calendar","values","getToday","assignedUserId","assignedUserName","added","addModel","url","encodeURIComponent","join","agenda","Ajax","getRequest","getClonedAttributes","entityType","addEvent","eventId","getEventById","setDates","setProp","remove","prev","next","additionalColorList","j","i","today"],"mappings":"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"}